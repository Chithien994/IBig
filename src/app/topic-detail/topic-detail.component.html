<!--
ChiThienTCN
Topic - detail html
-->
<div class="container-list" *ngIf="topic && topic.id">
    <div class="row d-flex justify-content-center">
        <div class="col-md-12 col-padding-0">
            <form name="form" #f="ngForm" novalidate>
                <div class="card">
                    <div class="card-header">
                        <span style="float: left;">Details: <span style="color: #ffc;" >{{topic.name}}</span></span>
                        <span [hidden]="hiddenCloseButton()" (click)="onHidden()" class="close" style="float: right;">&times;</span>
                    </div>
                    <div class="card-body">  
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" class="form-control" [ngModel]="topic.name" placeholder="Enter Name" title="Enter Name" name="name"
                            #name="ngModel" required>
                            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">Name is required</div>
                        </div>
                        <div class="form-group">
                            <label for="alterEgo">User</label>
                            <select class="form-control" id="user"  name="user" #user required>
                                <option *ngFor="let user of users"
                                    [selected]="topic.user == user.id"
                                    [value]="user.id">{{user.email}}
                                </option>
                            </select>
                        </div>

                        <!-- Message -->
                        <div style="margin-top: 1rem;display: inline-block;">
                            <app-message></app-message>
                        </div>
                    </div>
                    <div class="card-footer">
                        <button 
                            (click)="onUpdate(name.value,user.value)" 
                            [disabled]="!f.form.valid || uploading" title="Update" 
                            class="btn button-default">
                            Update
                            <i [class.fa-spinner]="uploading" class="fa fa-spin"></i>
                        </button>
                        <button 
                            (click)="add(name.value,user.value)" 
                            [disabled]="!f.form.valid || adding" title="Add" 
                            class="ml-sm-3 btn button-default">
                            New
                            <i [class.fa-spinner]="adding" class="fa fa-spin"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>